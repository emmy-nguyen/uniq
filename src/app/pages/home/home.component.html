<mat-drawer-container
  [autosize]="true"
  class="min-h-screen bg-gradient-to-br from-gray-50 to-gray-100"
>
  <mat-drawer
    mode="side"
    opened
    class="w-80 bg-white/95 backdrop-blur-sm border-r border-gray-200/60 shadow-lg"
  >
    <div class="p-6 border-b border-gray-100">
      <h2 class="text-xl font-bold text-gray-900mb-2">Filters</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Refine your search</p>
    </div>
    <div class="p-6">
      <app-filters
        (showCategory)="onShowCategory($event)"
        class="space-y-4"
      ></app-filters>
    </div>
  </mat-drawer>
  <mat-drawer-content class="p-6">
    <div class="max-w-7xl mx-auto">
      <div class="sticky top-0 z-10 bg-[#f6f6f6] backdrop-blur-md">
        <div class="px-6 py-4">
          <app-products-header
            (columnsCountChange)="onColumnsCountChange($event)"
            (itemsCountChange)="onItemsCountChange($event)"
            (sortChange)="onSortChange($event)"
          >
          </app-products-header>
        </div>
      </div>
      <div class="p-6">
        <div
          *ngIf="isLoading"
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
        >
          <!-- Skeleton -->
          <div
            *ngFor="let skeleton of [1, 2, 3, 4, 5, 6, 7, 8]"
            class="bg-white shadow-sm border border-gray-100 p-4 animate-pulse"
          >
            <div class="bg-gray-200 h-48 mb-4"></div>
            <div class="space-y-2">
              <div class="bg-gray-200 h-4 w-3/4"></div>
              <div class="bg-gray-200 h-4 w-1/2"></div>
            </div>
          </div>
        </div>

        <div class="flex flex-col items-center">
          <h1 class="text-2xl font-semibold">
            Our <span class="text-[#e04639]">Paintings</span>
          </h1>
          <p class="text-sm font-semibold text-gray-600 uppercase">
            Our Products
          </p>
        </div>
        <mat-grid-list
          *ngIf="!isLoading"
          gutterSize="16"
          [cols]="cols"
          [rowHeight]="getRowHeight()"
          class="overflow-hidden"
        >
          <mat-grid-tile
            *ngFor="let product of products"
            class="transition-all duration-300 hover:scale-[1.02]"
          >
            <div class="w-full h-full p-1">
              <app-product-box
                [product]="product"
                (addToCart)="onAddToCart($event)"
                class="w-full h-full block"
                [fullWidthMode]="cols === 1"
                [class]="getProductBoxClasses()"
              >
              </app-product-box>
            </div>
          </mat-grid-tile>
        </mat-grid-list>
      </div>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
